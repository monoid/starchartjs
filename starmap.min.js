var aa="function"==typeof Object.defineProperties?Object.defineProperty:function(a,c,d){a!=Array.prototype&&a!=Object.prototype&&(a[c]=d.value)},ba="undefined"!=typeof window&&window===this?this:"undefined"!=typeof global&&null!=global?global:this;function ca(a,c){if(c){var d=ba;a=a.split(".");for(var g=0;g<a.length-1;g++){var e=a[g];e in d||(d[e]={});d=d[e]}a=a[a.length-1];g=d[a];c=c(g);c!=g&&null!=c&&aa(d,a,{configurable:!0,writable:!0,value:c})}}
ca("Array.prototype.fill",function(a){return a?a:function(c,d,g){var e=this.length||0;0>d&&(d=Math.max(0,e+d));if(null==g||g>e)g=e;g=Number(g);0>g&&(g=Math.max(0,e+g));for(d=Number(d||0);d<g;d++)this[d]=c;return this}});var v=Math.PI/180,w=Math.PI/648E3,x=2*Math.PI;function y(a){return a-Math.floor(a)}function A(a,c){return c*y(a/c)}function da(a,c,d,g){if(4===arguments.length)this.sign=a,this.degree=c,this.minute=d,this.second=g;else{var e=a;this.sign=1;0>e&&(e=-e,this.sign=-1);this.degree=Math.floor(e);e=60*(e-this.degree);this.minute=Math.floor(e);this.second=e=60*(e-this.minute)}};function D(a,c,d){this.x=a;this.y=c;this.z=d}(function(a){a.j=function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)};a.add=function(c){return new D(this.x+c.x,this.y+c.y,this.z+c.z)};a.sub=function(c){return new D(this.x-c.x,this.y-c.y,this.z-c.z)};a.l=function(){return new D(-this.x,-this.y,-this.z)};a.f=function(c){return new D(c*this.x,c*this.y,c*this.z)};a.b=function(){return new D(this.x,this.y,this.z)}})(D.prototype);
function E(a,c,d){var g=arguments.length;2===g&&(d=1);2===g||3===g?(this.phi=a,this.theta=c,this.rad=d):(g=a.x*a.x+a.y*a.y,this.rad=Math.sqrt(g+a.z*a.z),this.phi=0===a.x&&0===a.y?0:Math.atan2(a.y,a.x),0>this.phi&&(this.phi+=x),g=Math.sqrt(g),this.theta=0===a.z&&0===g?0:Math.atan2(a.z,g))}(function(a){a.b=function(){var c=Math.cos(this.theta),d=this.rad;return new D(d*c*Math.cos(this.phi),d*c*Math.sin(this.phi),d*Math.sin(this.theta))};a.f=function(){return new E(this.rad,this.phi,this.theta)}})(E.prototype);
function F(a,c,d){this.mat=3===arguments.length?[[a.x,a.y,a.z],[c.x,c.y,c.z],[d.x,d.y,d.z]]:c?a:[[a[0][0],a[0][1],a[0][2]],[a[1][0],a[1][1],a[1][2]],[a[2][0],a[2][1],a[2][2]]]}
(function(a){a.apply=function(c){var d=this.mat[0],g=d[0]*c.x+d[1]*c.y+d[2]*c.z;d=this.mat[1];var e=d[0]*c.x+d[1]*c.y+d[2]*c.z;d=this.mat[2];return new D(g,e,d[0]*c.x+d[1]*c.y+d[2]*c.z)};a.s=function(c){var d=[[0,0,0],[0,0,0],[0,0,0]];c=c.mat;for(var g=0;3>g;g+=1)for(var e=this.mat[g],f=d[g],k=0;3>k;k+=1)for(var q=0;3>q;q+=1)f[k]+=e[q]*c[q][k];return new F(d,!0)}})(F.prototype);function G(a){var c=Math.cos(a);a=Math.sin(a);return new F([[1,0,0],[0,c,a],[0,-a,c]])}
function H(a){var c=Math.cos(a);a=Math.sin(a);return new F([[c,a,0],[-a,c,0],[0,0,1]])};var I={DEFAULT_JULIAN_DATE:{year:1582,month:10,day:4},DEFAULT_JULIAN_JD:2299161,JD_MJD:2400000.5,ia:function(a){"number"!==typeof a&&(a=a.getTime());return a/864E5+40587},la:function(a,c){"undefined"===typeof c&&(c=I.DEFAULT_JULIAN_JD);var d=Math.floor(a)+2400001;d<c?c=d+1524:(c=Math.floor((d-1867216.25)/36524.25),c=d+c-Math.floor(c/4)+1525);d=Math.floor((c-122.1)/365.25);var g=365*d+Math.floor(d/4);var e=Math.floor((c-g)/30.6001);c=c-g-Math.floor(30.6001*e);e=e-1-12*Math.floor(e/14);d=d-4715-Math.floor((7+
e)/10);a=I.W(24*(a-Math.floor(a)));a.year=d;a.month=e;a.day=c;return a},V:function(a,c,d){return a+c/60+d/3600},W:function(a){a=new da(a);return{hour:a.degree,minute:a.minute,second:a.second}},ka:function(a,c){"undefined"===typeof c&&(c=I.DEFAULT_JULIAN_DATE);var d=a.year,g=a.month;2>=g&&(g+=12,--d);return 365*d-679004+(d<=c.year&&g<=c.month&&a.day<=c.day?-2+Math.floor((d+4716)/4)-1179:Math.floor(d/400)-Math.floor(d/100)+Math.floor(d/4))+Math.floor(30.6001*(g+1))+a.day+I.V(a.hour,a.minute,a.second)/
24},A:function(a){return(a-51544.5)/36525},T:function(a){var c=Math.floor(a);var d=I.A(c);var g=I.A(a);return x/86400*A(24110.54841+8640184.812866*d+86636.55536351999*(a-c)+(.093104-6.2E-6*g)*g*g,86400)}};function J(a){return(23.43929111-(46.815+(5.9E-4-.001813*a)*a)*a/3600)*v};var K={DEFAULT_ITERATIONS:100,DEFAULT_PRECISION:1E-9,S:function(a,c,d){var g=K.DEFAULT_PRECISION;void 0===d&&(d=K.DEFAULT_ITERATIONS);a=A(a,x);var e=Math.sin(a);var f=a+c*e/(1-Math.sin(a+c)+e);do e=f-c*Math.sin(f)-a,f-=e/(1-c*Math.cos(f));while(0<d--&&e>g);return 0<d?f:null},F:function(a,c,d,g){a=K.S(c,g);return new D(d*(Math.cos(a)-g),d*Math.sqrt((1-g)*(1+g))*Math.sin(a),0)},fa:function(a,c,d,g,e){var f=0,k={},q=K.DEFAULT_PRECISION;var m=.5*e;c=Math.sqrt(a)*(d-c);do{a=f;f=1.5*Math.sqrt(m/(g*g*g))*
c;f=Math.pow(Math.sqrt(f*f+1)+f,1/3);d=f-1/f;var n=d*d;f=n*(1-e)/m;var p,h,l=k,u=K.DEFAULT_PRECISION;var r=p=m=0;var t=h=1;do r+=t,t/=2*h,p+=t,t/=2*h+1,m+=t,t*=-f,h+=1;while(Math.abs(t)>=u);l.M=r;l.N=p;l.P=m;m=3*e*k.P}while(Math.abs(f-a)>=q);return new D(g*(1-n*k.N/m),g*Math.sqrt((1+e)/m)*d*k.M,0)},X:function(a,c,d){void 0===d&&(d=K.DEFAULT_ITERATIONS);var g=K.DEFAULT_PRECISION,e=0;var f=Math.log(2*Math.abs(a)/c+1.8);0>a&&(f=-f);do{var k=(Math.exp(f)-Math.exp(-f))/2*c-f-a;f-=k/((Math.exp(f)+Math.exp(-f))/
2*c-1);++e;if(e===d)return null}while(Math.abs(k)>g*(1+Math.abs(f+a)));return f},Y:function(a,c,d,g,e){g=Math.abs(g);a=K.X(Math.sqrt(a/g)*(d-c)/g,e);return new D(g*(e-(Math.exp(a)+Math.exp(-a))/2),(Math.exp(a)-Math.exp(-a))/2*Math.sqrt((e+1)*(e-1))*g,0)},$:function(a,c,d,g,e,f){var k=Math.abs(1-e);var q=k/g;var m=Math.sqrt(a)*(d-c)*Math.sqrt(q*q*q);a=.1>m&&.1>k?K.fa(a,c,d,g,e):1>e?K.F(a,m,1/q,e):K.Y(a,c,d,1/q,e);return f.apply(a)},G:function(a,c,d){return H(-a).s(G(-c)).s(H(-d))}};var L=23.43920111*v;function M(){this.name="Sun"}var ea=new D(0,0,0);M.prototype.keplerCoord=function(){return ea};function N(a,c){this.name=a;this.a=c.a;this.ec=c.e;this.m0=c.M0;this.n=c.n;this.omega=c.O;this.i=c.i;this.w=c.w;this.t0=c.T0}N.prototype.keplerCoord=function(a){var c=K.F(2.9591220828559115E-4,v*(this.m0+this.n*(a-this.t0)),this.a,this.ec);return K.G(v*(this.omega+1.397*a),v*this.i,v*(this.w-this.omega)).apply(c)};
var Q={Sun:new M,Mercury:new N("Mercury",{a:.387099,e:.205634,M0:174.7947,n:149472.6738,O:48.331,i:7.0048,w:77.4552,T0:0}),Venus:new N("Venus",{a:.723332,e:.006773,M0:50.4071,n:58517.8149,O:76.68,i:3.3946,w:131.5718,T0:0}),Earth:new N("Earth",{a:1,e:.016709,M0:357.5256,n:35999.372,O:174.876,i:0,w:102.94,T0:0}),Mars:new N("Mars",{a:1.523692,e:.093405,M0:19.3879,n:19140.3023,O:49.557,i:1.8496,w:336.059,T0:0}),Jupiter:new N("Jupiter",{a:5.204267,e:.048775,M0:18.8185,n:3033.6272,O:100.4908,i:1.3046,w:15.5576,
T0:0}),Saturn:new N("Saturn",{a:9.582018,e:.055723,M0:320.3477,n:1213.8664,O:113.6427,i:2.4852,w:89.6567,T0:0}),Uranus:new N("Uranus",{a:19.229412,e:.044406,M0:142.9559,n:426.9282,O:73.9893,i:.7726,w:170.531,T0:0}),Neptune:new N("Neptune",{a:30.103658,e:.011214,M0:267.7649,n:217.9599,O:131.7942,i:1.768,w:37.4435,T0:0})};function R(a){S(this,0,0);this.c=a}function S(a,c,d){a.K=c;a.v=d;a.m=Math.cos(c);a.u=Math.sin(c);a.R=Math.cos(d);a.ha=Math.sin(d)}function T(a,c){var d=a.c,g=a.u+Math.sin(c);if(1E-10>Math.abs(g))return{type:"line",x:0,y:0,g:1,h:0};c=d*Math.cos(c)/g;return{type:"circle",x:0,y:-d*a.m/g,o:0>c,r:Math.abs(c)}}function U(a,c,d){var g=a.c,e=a.m,f=a.u;d=a.v-d;a=Math.cos(c);c=Math.sin(c);var k=Math.cos(d),q=g/(1+f*c+e*a*k);d=q*a*Math.sin(d);e=-q*(e*c-f*a*k);return[d,e,d*d+e*e<g*g]}
function W(a,c,d){d=Math.tan(d/2);var g=(c[0]*c[0]+c[1]*c[1])/(a.c*a.c),e=1-g*d*d;return{type:"circle",x:c[0]*(1+d*d)/e,y:c[1]*(1+d*d)/e,o:0>e,c:a.c*Math.abs(d*(g+1)/e)}}
R.prototype.b=function(a,c){var d=this.v,g=this.K,e=this.m,f=this.u,k=a*a+c*c;if(k>this.c*this.c)return null;if(1E-18>k)return{ra:d,de:g};k=Math.sqrt(k);var q=2*Math.atan(k/this.c),m=Math.cos(q),n=Math.sin(q);q=Math.asin(m*f+c*n*e/k);a=1E-9>Math.abs(g-Math.PI)?d-Math.atan2(a,-c):1E-9>Math.abs(this.ma- -Math.PI)?d-Math.atan2(a,c):d-Math.atan2(a*n,k*e*m-c*f*n);a=A(a,2*Math.PI);q=A(q+Math.PI,2*Math.PI)-Math.PI;return{ra:a,de:q}};R.prototype.inverseObj=R.prototype.b;
function X(a,c,d,g,e){this.aa=document.getElementById(a);this.l=this.aa.getContext("2d");this.b=e;this.size=c;a=Math.floor(c/2);this.ba="undefined"===typeof e.planets?!0:e.planets;this.ja=d;this.Z=g;this.proj=new R(a)}X.prototype.ga=function(a){this.proj.c=Math.floor(a/2);this.size=a};X.prototype.setSize=X.prototype.ga;function Y(a,c,d){this.B=a;this.size=c;this.color=d}Y.prototype.H=function(a,c,d){a=this.B.keplerCoord(a);return new E(d.apply(a.sub(c)))};
function Z(){this.size=20;this.color="#880"}Z.prototype.B={name:"Moon"};
Z.prototype.H=function(a){var c=y(.606433+1336.855225*a);var d=x*y(.374897+1325.55241*a);var g=x*y(.993133+99.997361*a);var e=x*y(.827361+1236.853086*a);a=x*y(.259086+1342.227825*a);var f=22640*Math.sin(d)-4586*Math.sin(d-2*e)+2370*Math.sin(2*e)+769*Math.sin(2*d)-668*Math.sin(g)-412*Math.sin(2*a)+-212*Math.sin(2*d-2*e)-206*Math.sin(d+g-2*e)+192*Math.sin(d+2*e)-165*Math.sin(g-2*e)+-125*Math.sin(e)-110*Math.sin(d+g)+148*Math.sin(d-g)+-55*Math.sin(2*a-2*e);var k=a+(f+412*Math.sin(2*a)+541*Math.sin(g))*
w;e=a-2*e;c=G(-L).apply((new E(x*y(c+f/1296E3),(18520*Math.sin(k)+(-526*Math.sin(e)+44*Math.sin(d+e)-31*Math.sin(e-d)+-23*Math.sin(g+e)+11*Math.sin(e-g)-25*Math.sin(a-2*d)+21*Math.sin(a-d)))*w)).b());c=new E(c);c={ra:c.phi,dec:c.theta};return{phi:c.ra,theta:c.dec}};var fa=[new Y(Q.Sun,20,"#FF0"),new Z,new Y(Q.Mercury,3,"#888"),new Y(Q.Venus,4,"#AAA"),new Y(Q.Mars,4,"#F80"),new Y(Q.Jupiter,6,"#FB0"),new Y(Q.Saturn,6,"#AA0"),new Y(Q.Uranus,6,"#CAF"),new Y(Q.Neptune,6,"#CAF")],ha=Q.Earth;
function ia(){this.f="2012 01 17;2012 01 22;2012 01 27;2012 02 01;2012 02 06;2012 02 11;2012 02 16;2012 02 21;2012 02 26;2012 03 02;2012 03 07;2012 03 12;2012 03 17;2012 03 22;2012 03 27;2012 04 01;2012 04 06;2012 04 11".split(";");this.l=[17.4533,17.4175,17.3649,17.289,17.1802,17.0241,16.7981,16.4653,15.967,15.2189,14.1497,12.8391,11.5897,10.6405,9.9973,9.5739,9.2944,9.1087];this.j=[32.839,35.301,38.107,41.29,44.877,48.874,53.248,57.889,62.547,66.752,69.747,70.676,69.266,66.145,62.191,58.016,53.951,
50.147];this.style={fillStyle:"green",strokeStyle:"green",lineWidth:1};this.b={fillStyle:"#8F8",strokeStyle:"#8F8"}}function ja(a,c){this.j=a;this.f=c}
function ka(a,c,d){function g(k){c.beginPath();c.arc(k.x,k.y,k.c,.15,.5*Math.PI-.15,!1);c.stroke();c.beginPath();c.arc(k.x,k.y,k.c,.5*Math.PI+.15,Math.PI-.15,!1);c.stroke();c.beginPath();c.arc(k.x,k.y,k.c,Math.PI+.15,1.5*Math.PI-.15,!1);c.stroke();c.beginPath();c.arc(k.x,k.y,k.c,1.5*Math.PI+.15,2*Math.PI-.15,!1);c.stroke()}var e=U(d,a.j,a.f);a=W(d,e,.5/180*Math.PI);var f=W(d,e,2/180*Math.PI);d=W(d,e,4/180*Math.PI);c.strokeStyle="rgba(255,0,0,0.6)";c.lineWidth=d.c/9;c.beginPath();c.arc(a.x,a.y,a.c,
0,2*Math.PI,!0);c.stroke();g(f);g(d)}
function la(){var a=window.b,c;"undefined"===typeof c&&(c=0);c-=-1.25;var d=(2306.2181+1.39673375*-1.25+(.30188-3.44E-4*-1.25+.017998*c)*c)*c*w;var g=(2004.3109- -1.25*(.8533+-.0027125)-(.42637875+.041833*c)*c)*c*w,e=Math.cos(g);g=Math.sin(g);c=H(-(d+(.79228625+2.05E-4*c)*c*c*w)).s(new F([[e,0,-g],[0,1,0],[g,0,e]])).s(H(-d));this.f=new E(c.apply(new D(0,0,1)));d=a.length;e=Array(d);for(g=0;g<d;++g){var f=a[g].slice(0),k=new E(c.apply((new E(15*Math.PI*f[0]/180,v*f[1])).b()));f[0]*=15;f.push(k.phi/
v);f.push(k.theta/v);e[g]=f}this.b=e}
function ma(a,c,d){function g(h,l){if(h[1]===l[1]){var u=e*h[0];var r=e*l[0];h=U(d,h[4]*e,h[3]*e);var t=U(d,l[4]*e,l[3]*e);l=W(d,U(d,q.theta,q.phi),Math.PI/2-e*l[1]);l.r=l.c;l.da=h;l.ea=t;l.C=Math.atan2(h[1]-l.y,h[0]-l.x);l.D=Math.atan2(t[1]-l.y,t[0]-l.x);u=A(u-r,2*Math.PI)<A(r-u,2*Math.PI)!==l.o}else{u=U(d,h[4]*e,h[3]*e);r=U(d,l[4]*e,l[3]*e);l=u[0]/d.c;h=u[1]/d.c;t=r[0]/d.c;var z=r[1]/d.c,B=l*l+h*h-1,C=t*t+z*z-1,V=2*(z*l-h*t),O=(B*z-C*h)/V,P=(-B*t+C*l)/V,ra=Math.sqrt(1+O*O+P*P);B=Math.atan2(h-P,
l-O);C=Math.atan2(z-P,t-O);l={type:"circle",x:O*d.c,y:P*d.c,C:B,D:C,da:u,ea:r,o:0>V,r:ra*d.c};u=l.o}c.beginPath();switch(l.type){case "circle":c.arc(l.x,l.y,l.r,l.C,l.D,u);break;case "line":c.moveTo(l.na,l.pa),c.lineTo(l.oa,l.qa)}c.stroke()}var e=v,f=null;c.strokeStyle="rgba(128,0,128,1)";var k=null,q=a.f;a=a.b;for(var m=0;m<a.length;++m){var n=a[m];if(f===n[2])g(k,n);else{null!==k&&g(k,p);var p=k=n;f=n[2]}k=n}}
function na(a,c,d){this.name=a;this.data=c.slice(0);this.b=d;this.f=function(g,e,f,k){g.beginPath();(k=k[f[2]])||(f=Math.min(15,Math.floor(19-f[5])).toString(16),k="#"+f+f+f);g.strokeStyle=k;g.arc(e[0],e[1],4,0,2*Math.PI,!0);g.stroke()}}function oa(a,c,d){for(var g=a.data,e=g.length,f,k,q=0;q<e;++q)f=g[q],k=U(d,f[4],15*f[3]),k[2]&&a.f(c,k,f,a.b)}function pa(a){this.f=a}function qa(a,c,d,g){this.b=a;this.color=c;this.l=K.G(a.node,a.I,a.J);this.j=d;this.f=g}
function sa(a,c,d){var g=K.$(2.9591220828559115E-4,a.b.L,a.j,a.b.q,a.b.e,a.l),e=ha.keplerCoord(a.f);g=new E(G(-J(a.f)).apply(g.sub(e)));d=U(d,g.theta,g.phi);c.strokeStyle=c.fillStyle=a.color;c.lineWidth=2;c.beginPath();c.arc(d[0],d[1],6,0,2*Math.PI,!0);c.stroke();c.beginPath();c.arc(d[0],d[1],4,0,2*Math.PI,!0);c.fill();a.b.title&&c.fillText(a.b.title,d[0]+8,d[1]+8)}X.prototype.ca=function(a,c,d){"undefined"===typeof d?d=+new Date:"number"!==typeof d&&(d=+d);this.j=a;this.f=c;this.time=d};
X.prototype.U=function(){var a=this.j,c=this.f,d=I.ia(this.time),g=I.T(d);a*=v;c*=v;S(this.proj,c,a+g);var e=this.proj;g=this.ja;var f=e.c,k=g.length;a=Array(k);var q=e.m,m=e.u,n=e.R,p=e.ha;for(e=0;e<k;++e){var h=g[e],l=h[2],u=-h[1],r=l*l,t=u*u,z=1+r,B=1+t;r=(1-r)/z;l=2*l/z;t=(1-t)/B;z=2*u/B;u=t*n-z*p;B=f/(1+m*l+q*r*u);t=B*r*(t*p+z*n);r=B*(m*r*u-q*l);a[e]=[h[0],t,r,t*t+r*r<f*f]}k=a.length;q=this.Z;m=q.length;g=Math.floor(this.size/2);f=this.l;f.save();f.translate(g,g);f.rotate(0);n=this.size;e=Math.floor(n/
2);p=this.l;p.clearRect(0,0,n,n);p.fillStyle="#FFF";p.fillRect(-e,-e,n,n);p.beginPath();p.fillStyle=this.b.circleFill||"#000010";p.arc(0,0,e,0,2*Math.PI,!0);p.fill();p.beginPath();p.arc(0,0,e,0,2*Math.PI,!0);p.clip();c=new pa(c);n=this.proj;f.strokeStyle="#448";e=Math.floor(c.size/2);for(p=-80;90>p;p+=10){h=T(n,Math.PI*p/180);f.beginPath();f.lineWidth=0===p?1.7:1;switch(h.type){case "line":f.moveTo(h.x-e*h.g,h.y-e*h.h);f.lineTo(h.x+e*h.g,h.y+e*h.h);break;case "circle":f.arc(h.x,h.y,h.r,0,2*Math.PI,
!0)}f.stroke()}for(p=0;180>p;p+=15){h=n.c;r=n.m;l=n.v-Math.PI*p/180;u=Math.sin(l);1E-10>Math.abs(u)||1E-10>Math.abs(r)?h={type:"line",x:0,y:0,g:Math.cos(l),h:u}:(u=h/(r*u),h={type:"circle",x:-h/(r*Math.tan(l)),y:h*Math.tan(n.K),o:0>u,r:Math.abs(u)});f.beginPath();f.lineWidth=0===p||-180===p?1.7:1;switch(h.type){case "line":f.moveTo(h.x-e*h.g,h.y-e*h.h);f.lineTo(h.x+e*h.g,h.y+e*h.h);break;case "circle":f.arc(h.x,h.y,h.r,0,2*Math.PI,!0)}f.stroke()}f.lineWidth=2;f.beginPath();h=T(n,Math.PI/2-c.f);switch(h.type){case "line":f.moveTo(h.x-
e*h.g,h.y-e*h.h);f.lineTo(h.x+e*h.g,h.y+e*h.h);break;case "circle":f.arc(h.x,h.y,h.r,0,2*Math.PI,!0)}f.stroke();f.beginPath();h=T(n,-Math.PI/2-c.f);switch(h.type){case "line":f.moveTo(h.x-e*h.g,h.y-e*h.h);f.lineTo(h.x+e*h.g,h.y+e*h.h);break;case "circle":f.arc(h.x,h.y,h.r,0,2*Math.PI,!0)}f.stroke();f.lineWidth=1;ma(new la,f,this.proj);f.beginPath();f.strokeStyle="rgba(255,255,255,0.7)";for(c=m;c--;)if(m=q[c][0],m=a[m],n=a[q[c][1]],m[3]||n[3])f.moveTo(m[1],m[2]),f.lineTo(n[1],n[2]);f.stroke();c=this.proj;
c=W(c,U(c,Math.PI/2+L,Math.PI/2),Math.PI/2);"circle"===c.type&&(f.beginPath(),f.strokeStyle="yellow",f.arc(c.x,c.y,c.c,0,2*Math.PI,!0),f.stroke());f.fillStyle="#FFF";for(c=0;c<k;++c)m=a[c],m[3]&&(f.beginPath(),f.arc(m[1],m[2],Math.max(3-m[0]/2,.5),0,2*Math.PI,!0),f.fill());this.b&&this.b.messier&&oa(new na("Messier",this.b.messier,this.b.messier_colors),f,this.proj);this.b&&this.b.caldwell&&oa(new na("Caldwell",this.b.caldwell,this.b.caldwell_colors),f,this.proj);a=I.A(d);if(this.ba)for(k=ha.keplerCoord(a),
q=G(-J(a)),c=0;c<fa.length;++c)m=fa[c],n=m.H(a,k,q),e=U(this.proj,n.theta,n.phi),e[2]&&(f.beginPath(),f.fillStyle=m.color,n=e[0],e=e[1],f.arc(n,e,m.size/2,0,2*Math.PI,!0),f.fill(),f.beginPath(),f.strokeStyle=m.color,f.arc(n,e,m.size/2+2,0,2*Math.PI,!0),f.stroke(),f.fillText&&f.fillText(m.B.name,n+m.size/2+1,e-m.size/2-1));ka(new ja(.901,.451),f,this.proj);ka(new ja(.301,2.151),f,this.proj);c=this.proj;k=new ia;q=k.f;m=k.l;n=k.j;e=Array(n.length);for(var C in k.style)f[C]=k.style[C];f.beginPath();
for(p=0;p<n.length;++p)r=e[p]=U(c,Math.PI*n[p]/180,Math.PI*m[p]/12),r[2]&&(h=r[0],r=r[1],f.lineTo(h,r));f.stroke();for(C in k.b)f[C]=k.b[C];for(p=0;p<n.length;++p)r=e[p],r[2]&&(h=r[0],r=r[1],f.beginPath(),f.arc(h,r,2,0,2*Math.PI,!0),f.fill(),f.fillText&&f.fillText(q[p],h,r-4));sa(new qa({title:"C/2009 P1 (Garradd)",L:55920,q:1.5505367,z:-6.782E-4,e:1.0010516,J:90.7477*v,node:325.9977*v,I:106.17749*v},"rgba(220, 255, 220, 0.7)",d,a),f,this.proj);sa(new qa({title:"Lutetia",L:55400,q:2.039175887090527,
e:.1628669085598194,J:250.192513362607*v,node:80.89961160386014*v,I:3.063753824680438*v},"rgba(255, 255, 255, 0.7)",d,a),f,this.proj);f.fillText&&(f.fillStyle="gold",f.strokeStyle="black",f.lineWidth=2,f.font="20px serif",f.textAlign="center",f.textBaseline="bottom",f.strokeText("S",0,g-5),f.fillText("S",0,g-5),f.rotate(Math.PI/2+1E-5),f.strokeText("E",0,g-5),f.fillText("E",0,g-5),f.rotate(Math.PI/2),f.strokeText("N",0,g-5),f.fillText("N",0,g-5),f.rotate(Math.PI/2),f.strokeText("W",0,g-5),f.fillText("W",
0,g-5));f.restore()};window.StarMap=X;X.prototype.setPos=X.prototype.ca;X.prototype.draw=X.prototype.U;
