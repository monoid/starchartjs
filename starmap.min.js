var a="function"==typeof Object.defineProperties?Object.defineProperty:function(b,c,d){b!=Array.prototype&&b!=Object.prototype&&(b[c]=d.value)},C="undefined"!=typeof window&&window===this?this:"undefined"!=typeof global&&null!=global?global:this;function D(b,c){if(c){var d=C;b=b.split(".");for(var g=0;g<b.length-1;g++){var e=b[g];e in d||(d[e]={});d=d[e]}b=b[b.length-1];g=d[b];c=c(g);c!=g&&null!=c&&a(d,b,{configurable:!0,writable:!0,value:c})}}
D("Array.prototype.fill",function(b){return b?b:function(c,d,g){var e=this.length||0;0>d&&(d=Math.max(0,e+d));if(null==g||g>e)g=e;g=Number(g);0>g&&(g=Math.max(0,e+g));for(d=Number(d||0);d<g;d++)this[d]=c;return this}});var F={};F.Math={};F.Math.A=Math.PI/180;F.Math.Ca=180/Math.PI;F.Math.Ba=648E3/Math.PI;F.Math.G=Math.PI/648E3;F.Math.C=2*Math.PI;F.Math.za=12/Math.PI;F.Math.wa=function(b){return b*b};F.Math.F=function(b){return b-Math.floor(b)};F.Math.L=function(b,c){return c*F.Math.F(b/c)};
F.Math.N=function(b,c,d,g){if(4===arguments.length)this.sign=b,this.degree=c,this.minute=d,this.second=g;else{var e=b;this.sign=1;0>e&&(e=-e,this.sign=-1);this.degree=Math.floor(e);e=60*(e-this.degree);this.minute=Math.floor(e);this.second=e=60*(e-this.minute)}};F.Math.V=function(b,c,d,g){return b*(c+d/60+g/3600)};F.Math.N.prototype.V=function(){return F.Math.V(this.sign,this.degree,this.minute,this.second)};F.Math.ha=function(b){return new F.Math.N(b)};
F.Math.Da=function(b){b=F.Math.L(b,F.Math.C);b=F.Math.ha(F.Math.za*b);b.hour=b.deg;delete b.deg;delete b.sign;return b};F.Math.va=function(b,c,d){var g=.5*(d+b)-c,e=.5*(d-b);b=-e/(2*g);d=(g*b+e)*b+c;e=e*e-4*g*c;c=[];0<=e&&(e=.5*Math.sqrt(e)/Math.abs(g),g=b-e,e=b+e,1>=Math.abs(g)&&c.push(g),1>=Math.abs(e)&&c.push(e));return{xe:b,ye:d,roots:c}};F.Math.sinh=function(b){return(Math.exp(b)-Math.exp(-b))/2};F.Math.cosh=function(b){return(Math.exp(b)+Math.exp(-b))/2};F.b={};F.b.s=function(b,c,d){this.x=b;this.y=c;this.z=d};(function(b){b.B=function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)};b.add=function(c){return new F.b.s(this.x+c.x,this.y+c.y,this.z+c.z)};b.sub=function(c){return new F.b.s(this.x-c.x,this.y-c.y,this.z-c.z)};b.K=function(){return new F.b.s(-this.x,-this.y,-this.z)};b.u=function(c){return new F.b.s(c*this.x,c*this.y,c*this.z)};b.f=function(){return new F.b.s(this.x,this.y,this.z)}})(F.b.s.prototype);
F.b.v=function(b,c,d){var g=arguments.length;2===g&&(d=1);2===g||3===g?(this.phi=b,this.theta=c,this.rad=d):(g=b.x*b.x+b.y*b.y,this.rad=Math.sqrt(g+b.z*b.z),this.phi=0===b.x&&0===b.y?0:Math.atan2(b.y,b.x),0>this.phi&&(this.phi+=F.Math.C),g=Math.sqrt(g),this.theta=0===b.z&&0===g?0:Math.atan2(b.z,g))};
(function(b){b.f=function(){var c=Math.cos(this.theta),d=this.rad;return new F.b.s(d*c*Math.cos(this.phi),d*c*Math.sin(this.phi),d*Math.sin(this.theta))};b.u=function(){return new F.b.v(this.rad,this.phi,this.theta)}})(F.b.v.prototype);F.b.j=function(b,c,d){this.mat=3===arguments.length?[[b.x,b.y,b.z],[c.x,c.y,c.z],[d.x,d.y,d.z]]:c?b:[[b[0][0],b[0][1],b[0][2]],[b[1][0],b[1][1],b[1][2]],[b[2][0],b[2][1],b[2][2]]]};
(function(b){b.apply=function(c){var d=this.mat[0],g=d[0]*c.x+d[1]*c.y+d[2]*c.z;d=this.mat[1];var e=d[0]*c.x+d[1]*c.y+d[2]*c.z;d=this.mat[2];return new F.b.s(g,e,d[0]*c.x+d[1]*c.y+d[2]*c.z)};b.M=function(c){var d=[[0,0,0],[0,0,0],[0,0,0]];c=c.mat;for(var g=0;3>g;g+=1)for(var e=this.mat[g],m=d[g],k=0;3>k;k+=1)for(var h=0;3>h;h+=1)m[k]+=e[h]*c[h][k];return new F.b.j(d,!0)}})(F.b.j.prototype);F.b.j.f=function(b){var c=Math.cos(b);b=Math.sin(b);return new F.b.j([[1,0,0],[0,c,b],[0,-b,c]])};
F.b.j.B=function(b){var c=Math.cos(b);b=Math.sin(b);return new F.b.j([[c,0,-b],[0,1,0],[b,0,c]])};F.b.j.u=function(b){var c=Math.cos(b);b=Math.sin(b);return new F.b.j([[c,b,0],[-b,c,0],[0,0,1]])};F.l={};F.l.DEFAULT_JULIAN_DATE={year:1582,month:10,day:4};F.l.DEFAULT_JULIAN_JD=2299161;F.l.JD_MJD=2400000.5;F.l.ya=function(b){"number"!==typeof b&&(b=b.getTime());return b/864E5+40587};
F.l.Pa=function(b,c){"undefined"===typeof c&&(c=F.l.DEFAULT_JULIAN_JD);var d=Math.floor(b)+2400001;d<c?c=d+1524:(c=Math.floor((d-1867216.25)/36524.25),c=d+c-Math.floor(c/4)+1525);d=Math.floor((c-122.1)/365.25);var g=365*d+Math.floor(d/4);var e=Math.floor((c-g)/30.6001);c=c-g-Math.floor(30.6001*e);e=e-1-12*Math.floor(e/14);d=d-4715-Math.floor((7+e)/10);b=F.l.la(24*(b-Math.floor(b)));b.year=d;b.month=e;b.day=c;return b};F.l.ka=function(b,c,d){return b+c/60+d/3600};
F.l.la=function(b){b=new F.Math.N(b);return{hour:b.degree,minute:b.minute,second:b.second}};F.l.Ia=function(b,c){"undefined"===typeof c&&(c=F.l.DEFAULT_JULIAN_DATE);var d=b.year,g=b.month;2>=g&&(g+=12,--d);return 365*d-679004+(d<=c.year&&g<=c.month&&b.day<=c.day?-2+Math.floor((d+4716)/4)-1179:Math.floor(d/400)-Math.floor(d/100)+Math.floor(d/4))+Math.floor(30.6001*(g+1))+b.day+F.l.ka(b.hour,b.minute,b.second)/24};F.l.W=function(b){return(b-51544.5)/36525};
F.l.ca=function(b){var c=Math.floor(b);var d=F.l.W(c);var g=F.l.W(b);return F.Math.C/86400*F.Math.L(24110.54841+8640184.812866*d+86636.55536351999*(b-c)+(.093104-6.2E-6*g)*g*g,86400)};F.m={};F.m.Ta=function(b,c){c-=b;var d=174.876383889*F.Math.A+((3289.4789+.60622*b)*b+(-869.8089-.50491*b+.03536*c)*c)*F.Math.G;return F.b.j.u(-(d+(5029.0966+(2.22226-4.2E-5*b)*b+(1.11113-4.2E-5*b-6E-6*c)*c)*c*F.Math.G)).M(F.b.j.f((47.0029-(.06603-5.98E-4*b)*b+(-.03302+.00598*b+6E-5*c)*c)*c*F.Math.G)).M(F.b.j.u(d))};
F.m.ua=function(b,c){c-=b;var d=(2306.2181+(1.39656-1.39E-4*b)*b+(.30188-3.44E-4*b+.017998*c)*c)*c*F.Math.G;return F.b.j.u(-(d+(.7928+4.11E-4*b+2.05E-4*c)*c*c*F.Math.G)).M(F.b.j.B((2004.3109-(.8533+.00217*b)*b-(.42665+2.17E-4*b+.041833*c)*c)*c*F.Math.G)).M(F.b.j.u(-d))};F.m.$=function(b){return(23.43929111-(46.815+(5.9E-4-.001813*b)*b)*b/3600)*F.Math.A};F.m.Ja=function(b){return F.b.j.f(F.m.$(b))};F.m.Z=function(b){return F.b.j.f(-F.m.$(b))};
F.m.Ka=function(b,c,d){b=F.b.j.B(Math.PI/2-d).apply((new F.b.v(c,b)).f());b=new F.b.v(b);return{h:b.theta,az:b.phi}};F.m.La=function(b,c,d){b=F.b.j.B(-Math.PI/2+d).apply((new F.b.v(c,d)).f());b=new F.b.v(b);return{dec:b.theta,tau:b.phi}};F.g={};F.g.DEFAULT_ITERATIONS=100;F.g.DEFAULT_PRECISION=1E-9;F.g.ia=function(b,c,d){var g=F.g.DEFAULT_PRECISION;void 0===d&&(d=F.g.DEFAULT_ITERATIONS);b=F.Math.L(b,F.Math.C);var e=Math.sin(b);var m=b+c*e/(1-Math.sin(b+c)+e);do e=m-c*Math.sin(m)-b,m-=e/(1-c*Math.cos(m));while(0<d--&&e>g);return 0<d?m:null};F.g.aa=function(b,c,d,g){b=F.g.ia(c,g);return new F.b.s(d*(Math.cos(b)-g),d*Math.sqrt((1-g)*(1+g))*Math.sin(b),0)};
F.g.qa=function(b,c,d,g,e){var m=0,k={},h=F.g.DEFAULT_PRECISION;var t=.5*e;c=Math.sqrt(b)*(d-c);do{b=m;m=1.5*Math.sqrt(t/(g*g*g))*c;m=Math.pow(Math.sqrt(m*m+1)+m,1/3);d=m-1/m;var q=d*d;m=q*(1-e)/t;var u,p,n=k,l=F.g.DEFAULT_PRECISION;var w=u=t=0;var v=p=1;do w+=v,v/=2*p,u+=v,v/=2*p+1,t+=v,v*=-m,p+=1;while(Math.abs(v)>=l);n.Ea=w;n.Fa=u;n.Ga=t;t=3*e*k.Ga}while(Math.abs(m-b)>=h);return new F.b.s(g*(1-q*k.Fa/t),g*Math.sqrt((1+e)/t)*d*k.Ea,0)};
F.g.ma=function(b,c,d){void 0===d&&(d=F.g.DEFAULT_ITERATIONS);var g=F.g.DEFAULT_PRECISION,e=0;var m=Math.log(2*Math.abs(b)/c+1.8);0>b&&(m=-m);do{var k=c*F.Math.sinh(m)-m-b;m-=k/(c*F.Math.cosh(m)-1);++e;if(e===d)return null}while(Math.abs(k)>g*(1+Math.abs(m+b)));return m};F.g.na=function(b,c,d,g,e){g=Math.abs(g);b=F.g.ma(Math.sqrt(b/g)*(d-c)/g,e);return new F.b.s(g*(e-F.Math.cosh(b)),g*Math.sqrt((e+1)*(e-1))*F.Math.sinh(b),0)};
F.g.pa=function(b,c,d,g,e,m){var k=Math.abs(1-e);var h=k/g;var t=Math.sqrt(b)*(d-c)*Math.sqrt(h*h*h);b=.1>t&&.1>k?F.g.qa(b,c,d,g,e):1>e?F.g.aa(b,t,1/h,e):F.g.na(b,c,d,1/h,e);return m.apply(b)};F.g.ba=function(b,c,d){return F.b.j.u(-b).M(F.b.j.f(-c)).M(F.b.j.u(-d))};F.c={};F.c.U=23.43920111*F.Math.A;
F.c.P=function(b){var c=F.Math.F(.606433+1336.855225*b);var d=F.Math.C*F.Math.F(.374897+1325.55241*b);var g=F.Math.C*F.Math.F(.993133+99.997361*b);var e=F.Math.C*F.Math.F(.827361+1236.853086*b);b=F.Math.C*F.Math.F(.259086+1342.227825*b);var m=22640*Math.sin(d)-4586*Math.sin(d-2*e)+2370*Math.sin(2*e)+769*Math.sin(2*d)-668*Math.sin(g)-412*Math.sin(2*b)+-212*Math.sin(2*d-2*e)-206*Math.sin(d+g-2*e)+192*Math.sin(d+2*e)-165*Math.sin(g-2*e)+-125*Math.sin(e)-110*Math.sin(d+g)+148*Math.sin(d-g)+-55*Math.sin(2*
b-2*e);var k=b+(m+412*Math.sin(2*b)+541*Math.sin(g))*F.Math.G;e=b-2*e;c=F.b.j.f(-F.c.U).apply((new F.b.v(F.Math.C*F.Math.F(c+m/1296E3),(18520*Math.sin(k)+(-526*Math.sin(e)+44*Math.sin(d+e)-31*Math.sin(e-d)+-23*Math.sin(g+e)+11*Math.sin(e-g)-25*Math.sin(b-2*d)+21*Math.sin(b-d)))*F.Math.G)).f());c=new F.b.v(c);return{ra:c.phi,dec:c.theta}};
F.c.J=function(b){var c=F.Math.F(.993133+99.997361*b);var d=F.Math.C*c;b=F.b.j.f(-F.c.U).apply((new F.b.v(F.Math.C*F.Math.F(.7859453+c+(6893*Math.sin(d)+72*Math.sin(2*d)+6191.2*b)/1296E3),0)).f());b=new F.b.v(b);return{ra:b.phi,dec:b.theta}};
F.c.Aa=[{body:"moon",name:"day",title:"Moon",sinh0:Math.sin(8/60*F.Math.A),posFunc:F.c.P},{body:"sun",name:"day",title:"Sun",sinh0:Math.sin(-50/60*F.Math.A),posFunc:F.c.J},{body:"sun",name:"twilightC",title:"Civil twilight",sinh0:Math.sin(-6*F.Math.A),posFunc:F.c.J},{body:"sun",name:"twilightN",title:"Nautical twilight",sinh0:Math.sin(-12*F.Math.A),posFunc:F.c.J},{body:"sun",name:"twilightA",title:"Astronomical twilight",sinh0:Math.sin(-18*F.Math.A),posFunc:F.c.J}];
F.c.Wa=function(b,c,d,g,e){function m(E,K,X,Y,Z){E=E((K-51544.5)/36525);return Z*Math.sin(E.dec)+Y*Math.cos(E.dec)*Math.cos(F.l.ca(K)+X-E.ra)}var k=F.c.Aa,h=[],t,q,u=1/24,p={},n={},l={},w=Math.cos(g);g=Math.sin(g);var v={sun:{},moon:{}},y={sun:{},moon:{}},A={sun:{},moon:{}},z={};"undefined"===typeof e&&(e=function(E){return E});var B=b;p.moon=m(F.c.P,B,d,w,g);p.sun=m(F.c.J,B,d,w,g);for(q=0;q<k.length;q+=1){var r=k[q];var x=r.name;v[r.body][x]=p[r.body]-r.sinh0}for(;B<c;){e={moon:{midnight:p.moon},
sun:{midnight:p.sun}};for(t=1;24>t;t+=2){q=B+u;B=q+u;n.moon=m(F.c.P,q,d,w,g);n.sun=m(F.c.J,q,d,w,g);l.moon=m(F.c.P,B,d,w,g);l.sun=m(F.c.J,B,d,w,g);for(q=0;q<k.length;q+=1)switch(r=k[q],x=r.name,e[r.body][x]=e[r.body][x]||{},y[r.body][x]=n[r.body]-r.sinh0,A[r.body][x]=l[r.body]-r.sinh0,z=F.Math.va(v[r.body][x],y[r.body][x],A[r.body][x]),z.roots.length){case 1:0>v[r.body][x]?e[r.body][x].rise=t+z.roots[0]:e[r.body][x].set=t+z.roots[0];break;case 2:0>z.ye?(e[r.body][x].rise=t+z.roots[1],e[r.body][x].set=
t+z.roots[0]):(e[r.body][x].rise=t+z.roots[0],e[r.body][x].set=t+z.roots[1])}v=A;A={moon:{},sun:{}}}for(q=0;q<k.length;q+=1)r=k[q],x=r.name,e[r.body][x].set||e[r.body][x].rise||(e[r.body][x].alwaysAbove=n[r.body]>r.sinh0);B=b+=1;h.push(e)}return h};F.c.R=function(){this.name="Sun"};F.c.R.f=new F.b.s(0,0,0);F.c.Y=F.Math.wa(.01720209895);F.c.R.prototype.keplerCoord=function(){return F.c.R.f};
F.c.Body=function(b,c){this.name=b;this.a=c.a;this.ec=c.e;this.m0=c.M0;this.n=c.n;this.omega=c.O;this.i=c.i;this.w=c.w;this.t0=c.T0};F.c.Body.prototype.keplerCoord=function(b){var c=F.g.aa(F.c.Y,F.Math.A*(this.m0+this.n*(b-this.t0)),this.a,this.ec);return F.g.ba(F.Math.A*(this.omega+1.397*b),F.Math.A*this.i,F.Math.A*(this.w-this.omega)).apply(c)};
F.c.D={Sun:new F.c.R,Mercury:new F.c.Body("Mercury",{a:.387099,e:.205634,M0:174.7947,n:149472.6738,O:48.331,i:7.0048,w:77.4552,T0:0}),Venus:new F.c.Body("Venus",{a:.723332,e:.006773,M0:50.4071,n:58517.8149,O:76.68,i:3.3946,w:131.5718,T0:0}),Earth:new F.c.Body("Earth",{a:1,e:.016709,M0:357.5256,n:35999.372,O:174.876,i:0,w:102.94,T0:0}),Mars:new F.c.Body("Mars",{a:1.523692,e:.093405,M0:19.3879,n:19140.3023,O:49.557,i:1.8496,w:336.059,T0:0}),Jupiter:new F.c.Body("Jupiter",{a:5.204267,e:.048775,M0:18.8185,
n:3033.6272,O:100.4908,i:1.3046,w:15.5576,T0:0}),Saturn:new F.c.Body("Saturn",{a:9.582018,e:.055723,M0:320.3477,n:1213.8664,O:113.6427,i:2.4852,w:89.6567,T0:0}),Uranus:new F.c.Body("Uranus",{a:19.229412,e:.044406,M0:142.9559,n:426.9282,O:73.9893,i:.7726,w:170.531,T0:0}),Neptune:new F.c.Body("Neptune",{a:30.103658,e:.011214,M0:267.7649,n:217.9599,O:131.7942,i:1.768,w:37.4435,T0:0})};function G(b){H(this,0,0);this.o=b}function H(b,c,d){b.ta=c;b.da=d;b.S=Math.cos(c);b.X=Math.sin(c);b.Ha=Math.cos(d);b.Va=Math.sin(d)}function I(b,c){var d=b.o,g=b.X+Math.sin(c);if(1E-10>Math.abs(g))return{type:"line",x:0,y:0,H:1,I:0};c=d*Math.cos(c)/g;return{type:"circle",x:0,y:-d*b.S/g,T:0>c,r:Math.abs(c)}}function J(b,c,d){var g=b.o,e=b.S,m=b.X;d=b.da-d;b=Math.cos(c);c=Math.sin(c);var k=Math.cos(d),h=g/(1+m*c+e*b*k);d=h*b*Math.sin(d);e=-h*(e*c-m*b*k);return[d,e,d*d+e*e<g*g]}
function L(b,c,d){d=Math.tan(d/2);var g=(c[0]*c[0]+c[1]*c[1])/(b.o*b.o),e=1-g*d*d;return{type:"circle",x:c[0]*(1+d*d)/e,y:c[1]*(1+d*d)/e,T:0>e,o:b.o*Math.abs(d*(g+1)/e)}}
G.prototype.f=function(b,c){var d=this.da,g=this.ta,e=this.S,m=this.X,k=b*b+c*c;if(k>this.o*this.o)return null;if(1E-18>k)return{ra:d,de:g};k=Math.sqrt(k);var h=2*Math.atan(k/this.o),t=Math.cos(h),q=Math.sin(h);h=Math.asin(t*m+c*q*e/k);b=1E-9>Math.abs(g-Math.PI)?d-Math.atan2(b,-c):1E-9>Math.abs(this.Za- -Math.PI)?d-Math.atan2(b,c):d-Math.atan2(b*q,k*e*t-c*m*q);b=F.Math.L(b,2*Math.PI);h=F.Math.L(h+Math.PI,2*Math.PI)-Math.PI;return{ra:b,de:h}};G.prototype.inverseObj=G.prototype.f;
function M(b,c,d,g,e){this.Oa=document.getElementById(b);this.K=this.Oa.getContext("2d");this.f=e;this.size=c;b=Math.floor(c/2);this.Qa="undefined"===typeof e.planets?!0:e.planets;this.Ya=d;this.Na=g;this.proj=new G(b)}M.prototype.Xa=function(b){this.proj.o=Math.floor(b/2);this.size=b};M.prototype.setSize=M.prototype.Xa;function N(b,c,d){this.ea=b;this.size=c;this.color=d}N.prototype.ja=function(b,c,d){b=this.ea.keplerCoord(b);return new F.b.v(d.apply(b.sub(c)))};
function O(){this.size=20;this.color="#880"}O.prototype.ea={name:"Moon"};O.prototype.ja=function(b){b=F.c.P(b);return{phi:b.ra,theta:b.dec}};var P=[new N(F.c.D.Sun,20,"#FF0"),new O,new N(F.c.D.Mercury,3,"#888"),new N(F.c.D.Venus,4,"#AAA"),new N(F.c.D.Mars,4,"#F80"),new N(F.c.D.Jupiter,6,"#FB0"),new N(F.c.D.Saturn,6,"#AA0"),new N(F.c.D.Uranus,6,"#CAF"),new N(F.c.D.Neptune,6,"#CAF")],Q=F.c.D.Earth;
function aa(){this.u="2012 01 17;2012 01 22;2012 01 27;2012 02 01;2012 02 06;2012 02 11;2012 02 16;2012 02 21;2012 02 26;2012 03 02;2012 03 07;2012 03 12;2012 03 17;2012 03 22;2012 03 27;2012 04 01;2012 04 06;2012 04 11".split(";");this.K=[17.4533,17.4175,17.3649,17.289,17.1802,17.0241,16.7981,16.4653,15.967,15.2189,14.1497,12.8391,11.5897,10.6405,9.9973,9.5739,9.2944,9.1087];this.B=[32.839,35.301,38.107,41.29,44.877,48.874,53.248,57.889,62.547,66.752,69.747,70.676,69.266,66.145,62.191,58.016,53.951,
50.147];this.style={fillStyle:"green",strokeStyle:"green",lineWidth:1};this.f={fillStyle:"#8F8",strokeStyle:"#8F8"}}function R(b,c){this.B=b;this.u=c}
function S(b,c,d){function g(k){c.beginPath();c.arc(k.x,k.y,k.o,.15,.5*Math.PI-.15,!1);c.stroke();c.beginPath();c.arc(k.x,k.y,k.o,.5*Math.PI+.15,Math.PI-.15,!1);c.stroke();c.beginPath();c.arc(k.x,k.y,k.o,Math.PI+.15,1.5*Math.PI-.15,!1);c.stroke();c.beginPath();c.arc(k.x,k.y,k.o,1.5*Math.PI+.15,2*Math.PI-.15,!1);c.stroke()}var e=J(d,b.B,b.u);b=L(d,e,.5/180*Math.PI);var m=L(d,e,2/180*Math.PI);d=L(d,e,4/180*Math.PI);c.strokeStyle="rgba(255,0,0,0.6)";c.lineWidth=d.o/9;c.beginPath();c.arc(b.x,b.y,b.o,
0,2*Math.PI,!0);c.stroke();g(m);g(d)}function ba(){var b=window.f,c,d=F.Math.A;"undefined"===typeof c&&(c=0);c=F.m.ua(-1.25,c);this.u=new F.b.v(c.apply(new F.b.s(0,0,1)));for(var g=b.length,e=Array(g),m=0;m<g;++m){var k=b[m].slice(0),h=new F.b.v(c.apply((new F.b.v(15*Math.PI*k[0]/180,d*k[1])).f()));k[0]*=15;k.push(h.phi/d);k.push(h.theta/d);e[m]=k}this.f=e}
function ca(b,c,d){function g(p,n){if(p[1]===n[1]){var l=e*p[0];var w=e*n[0];p=J(d,p[4]*e,p[3]*e);var v=J(d,n[4]*e,n[3]*e);n=L(d,J(d,h.theta,h.phi),Math.PI/2-e*n[1]);n.r=n.o;n.Ra=p;n.Sa=v;n.fa=Math.atan2(p[1]-n.y,p[0]-n.x);n.ga=Math.atan2(v[1]-n.y,v[0]-n.x);l=F.Math.L(l-w,2*Math.PI)<F.Math.L(w-l,2*Math.PI)!==n.T}else{l=J(d,p[4]*e,p[3]*e);w=J(d,n[4]*e,n[3]*e);n=l[0]/d.o;p=l[1]/d.o;v=w[0]/d.o;var y=w[1]/d.o,A=n*n+p*p-1,z=v*v+y*y-1,B=2*(y*n-p*v),r=(A*y-z*p)/B,x=(-A*v+z*n)/B,E=Math.sqrt(1+r*r+x*x);A=
Math.atan2(p-x,n-r);z=Math.atan2(y-x,v-r);n={type:"circle",x:r*d.o,y:x*d.o,fa:A,ga:z,Ra:l,Sa:w,T:0>B,r:E*d.o};l=n.T}c.beginPath();switch(n.type){case "circle":c.arc(n.x,n.y,n.r,n.fa,n.ga,l);break;case "line":c.moveTo(n.$a,n.bb),c.lineTo(n.ab,n.cb)}c.stroke()}var e=F.Math.A,m=null;c.strokeStyle="rgba(128,0,128,1)";var k=null,h=b.u;b=b.f;for(var t=0;t<b.length;++t){var q=b[t];if(m===q[2])g(k,q);else{null!==k&&g(k,u);var u=k=q;m=q[2]}k=q}}
function T(b,c,d){this.name=b;this.data=c.slice(0);this.f=d;this.u=function(g,e,m,k){g.beginPath();(k=k[m[2]])||(m=Math.min(15,Math.floor(19-m[5])).toString(16),k="#"+m+m+m);g.strokeStyle=k;g.arc(e[0],e[1],4,0,2*Math.PI,!0);g.stroke()}}function U(b,c,d){for(var g=b.data,e=g.length,m,k,h=0;h<e;++h)m=g[h],k=J(d,m[4],15*m[3]),k[2]&&b.u(c,k,m,b.f)}function da(b){this.u=b}function V(b,c,d,g){this.f=b;this.color=c;this.K=F.g.ba(b.node,b.oa,b.sa);this.B=d;this.u=g}
function W(b,c,d){var g=F.g.pa(F.c.Y,b.f.xa,b.B,b.f.q,b.f.e,b.K),e=Q.keplerCoord(b.u);g=new F.b.v(F.m.Z(b.u).apply(g.sub(e)));d=J(d,g.theta,g.phi);c.strokeStyle=c.fillStyle=b.color;c.lineWidth=2;c.beginPath();c.arc(d[0],d[1],6,0,2*Math.PI,!0);c.stroke();c.beginPath();c.arc(d[0],d[1],4,0,2*Math.PI,!0);c.fill();b.f.title&&c.fillText(b.f.title,d[0]+8,d[1]+8)}M.prototype.Ua=function(b,c,d){"undefined"===typeof d?d=+new Date:"number"!==typeof d&&(d=+d);this.B=b;this.u=c;this.time=d};
M.prototype.Ma=function(){var b=this.B,c=this.u,d=F.l,g=d.ya(this.time),e=d.ca(g),m=F.Math.A;c*=m;H(this.proj,c,b*m+e);var k=this.proj;e=this.Ya;var h=k.o,t=e.length;b=Array(t);var q=k.S,u=k.X,p=k.Ha,n=k.Va;for(k=0;k<t;++k){var l=e[k],w=l[2],v=-l[1],y=w*w,A=v*v,z=1+y,B=1+A;y=(1-y)/z;w=2*w/z;A=(1-A)/B;z=2*v/B;v=A*p-z*n;B=h/(1+u*w+q*y*v);A=B*y*(A*n+z*p);y=B*(u*y*v-q*w);b[k]=[l[0],A,y,A*A+y*y<h*h]}t=b.length;q=this.Na;u=q.length;e=Math.floor(this.size/2);h=this.K;h.save();h.translate(e,e);h.rotate(0);
p=this.size;k=Math.floor(p/2);n=this.K;n.clearRect(0,0,p,p);n.fillStyle="#FFF";n.fillRect(-k,-k,p,p);n.beginPath();n.fillStyle=this.f.circleFill||"#000010";n.arc(0,0,k,0,2*Math.PI,!0);n.fill();n.beginPath();n.arc(0,0,k,0,2*Math.PI,!0);n.clip();c=new da(c);p=this.proj;h.strokeStyle="#448";k=Math.floor(c.size/2);for(n=-80;90>n;n+=10){l=I(p,Math.PI*n/180);h.beginPath();h.lineWidth=0===n?1.7:1;switch(l.type){case "line":h.moveTo(l.x-k*l.H,l.y-k*l.I);h.lineTo(l.x+k*l.H,l.y+k*l.I);break;case "circle":h.arc(l.x,
l.y,l.r,0,2*Math.PI,!0)}h.stroke()}for(n=0;180>n;n+=15){l=p.o;y=p.S;w=p.da-Math.PI*n/180;v=Math.sin(w);1E-10>Math.abs(v)||1E-10>Math.abs(y)?l={type:"line",x:0,y:0,H:Math.cos(w),I:v}:(v=l/(y*v),l={type:"circle",x:-l/(y*Math.tan(w)),y:l*Math.tan(p.ta),T:0>v,r:Math.abs(v)});h.beginPath();h.lineWidth=0===n||-180===n?1.7:1;switch(l.type){case "line":h.moveTo(l.x-k*l.H,l.y-k*l.I);h.lineTo(l.x+k*l.H,l.y+k*l.I);break;case "circle":h.arc(l.x,l.y,l.r,0,2*Math.PI,!0)}h.stroke()}h.lineWidth=2;h.beginPath();l=
I(p,Math.PI/2-c.u);switch(l.type){case "line":h.moveTo(l.x-k*l.H,l.y-k*l.I);h.lineTo(l.x+k*l.H,l.y+k*l.I);break;case "circle":h.arc(l.x,l.y,l.r,0,2*Math.PI,!0)}h.stroke();h.beginPath();l=I(p,-Math.PI/2-c.u);switch(l.type){case "line":h.moveTo(l.x-k*l.H,l.y-k*l.I);h.lineTo(l.x+k*l.H,l.y+k*l.I);break;case "circle":h.arc(l.x,l.y,l.r,0,2*Math.PI,!0)}h.stroke();h.lineWidth=1;ca(new ba,h,this.proj);h.beginPath();h.strokeStyle="rgba(255,255,255,0.7)";for(c=u;c--;)if(u=q[c][0],u=b[u],p=b[q[c][1]],u[3]||p[3])h.moveTo(u[1],
u[2]),h.lineTo(p[1],p[2]);h.stroke();c=this.proj;c=L(c,J(c,Math.PI/2+F.c.U,Math.PI/2),Math.PI/2);"circle"===c.type&&(h.beginPath(),h.strokeStyle="yellow",h.arc(c.x,c.y,c.o,0,2*Math.PI,!0),h.stroke());h.fillStyle="#FFF";for(c=0;c<t;++c)u=b[c],u[3]&&(h.beginPath(),h.arc(u[1],u[2],Math.max(3-u[0]/2,.5),0,2*Math.PI,!0),h.fill());this.f&&this.f.messier&&U(new T("Messier",this.f.messier,this.f.messier_colors),h,this.proj);this.f&&this.f.caldwell&&U(new T("Caldwell",this.f.caldwell,this.f.caldwell_colors),
h,this.proj);d=d.W(g);if(this.Qa)for(b=Q.keplerCoord(d),t=F.m.Z(d),c=0;c<P.length;++c)q=P[c],u=q.ja(d,b,t),p=J(this.proj,u.theta,u.phi),p[2]&&(h.beginPath(),h.fillStyle=q.color,u=p[0],p=p[1],h.arc(u,p,q.size/2,0,2*Math.PI,!0),h.fill(),h.beginPath(),h.strokeStyle=q.color,h.arc(u,p,q.size/2+2,0,2*Math.PI,!0),h.stroke(),h.fillText&&h.fillText(q.ea.name,u+q.size/2+1,p-q.size/2-1));S(new R(.901,.451),h,this.proj);S(new R(.301,2.151),h,this.proj);b=this.proj;c=new aa;t=c.u;q=c.K;u=c.B;p=Array(u.length);
for(var r in c.style)h[r]=c.style[r];h.beginPath();for(k=0;k<u.length;++k)l=p[k]=J(b,Math.PI*u[k]/180,Math.PI*q[k]/12),l[2]&&(n=l[0],l=l[1],h.lineTo(n,l));h.stroke();for(r in c.f)h[r]=c.f[r];for(k=0;k<u.length;++k)l=p[k],l[2]&&(n=l[0],l=l[1],h.beginPath(),h.arc(n,l,2,0,2*Math.PI,!0),h.fill(),h.fillText&&h.fillText(t[k],n,l-4));W(new V({title:"C/2009 P1 (Garradd)",xa:55920,q:1.5505367,z:-6.782E-4,e:1.0010516,sa:90.7477*m,node:325.9977*m,oa:106.17749*m},"rgba(220, 255, 220, 0.7)",g,d),h,this.proj);
W(new V({title:"Lutetia",xa:55400,q:2.039175887090527,e:.1628669085598194,sa:250.192513362607*m,node:80.89961160386014*m,oa:3.063753824680438*m},"rgba(255, 255, 255, 0.7)",g,d),h,this.proj);h.fillText&&(h.fillStyle="gold",h.strokeStyle="black",h.lineWidth=2,h.font="20px serif",h.textAlign="center",h.textBaseline="bottom",h.strokeText("S",0,e-5),h.fillText("S",0,e-5),h.rotate(Math.PI/2+1E-5),h.strokeText("E",0,e-5),h.fillText("E",0,e-5),h.rotate(Math.PI/2),h.strokeText("N",0,e-5),h.fillText("N",0,
e-5),h.rotate(Math.PI/2),h.strokeText("W",0,e-5),h.fillText("W",0,e-5));h.restore()};window.StarMap=M;M.prototype.setPos=M.prototype.Ua;M.prototype.draw=M.prototype.Ma;window.StarJs=F;F.Math=F.Math;F.Math.DEG2RAD=F.Math.A;F.Math.RAD2DEG=F.Math.Ca;F.Math.RAD2ARCS=F.Math.Ba;F.Math.ARCS2RAD=F.Math.G;F.Math.PI2=F.Math.C;F.Math.sqr=F.Math.wa;F.Math.frac=F.Math.F;F.Math.mod=F.Math.L;F.Math.Dms=F.Math.N;F.Math.dms2deg=F.Math.V;F.Math.N.prototype.dms2deg=F.Math.N.prototype.V;F.Math.deg2dms=F.Math.ha;F.Math.angle2hms=F.Math.Da;F.Math.quadInterpolation=F.Math.va;F.Math.sinh=F.Math.sinh;F.Math.cosh=F.Math.cosh;F.Coord=F.m;F.m.precessionEclMatrix=F.m.Ta;
F.m.precessionEquMatrix=F.m.ua;F.m.eclipticObliquity=F.m.$;F.m.equ2eclMatrix=F.m.Ja;F.m.ecl2equMatrix=F.m.Z;F.m.equ2hor=F.m.Ka;F.m.hor2equ=F.m.La;F.Kepler=F.g;F.g.eccAnomaly=F.g.ia;F.g.elliptic=F.g.aa;F.g.parabolic=F.g.qa;F.g.hypAnom=F.g.ma;F.g.hyperbolic=F.g.na;F.g.keplerPos=F.g.pa;F.g.gaussVec=F.g.ba;F.Solar=F.c;F.c.EPS=F.c.U;F.c.approxMoon=F.c.P;F.c.approxSun=F.c.J;F.c.sunAndMoonEvents=F.c.Wa;F.c.Sun=F.c.R;F.c.GM=F.c.Y;F.c.Body=F.c.Body;F.c.BODIES=F.c.D;F.Time=F.l;F.l.time2mjd=F.l.ya;
F.l.mjd2dt=F.l.Pa;F.l.hms2hour=F.l.ka;F.l.hour2hms=F.l.la;F.l.dt2mjd=F.l.Ia;F.l.mjd2jct=F.l.W;F.l.gmst=F.l.ca;F.Vector=F.b;F.b.Vector3=F.b.s;F.b.s.prototype.len=F.b.s.prototype.B;F.b.s.prototype.add=F.b.s.prototype.add;F.b.s.prototype.sub=F.b.s.prototype.sub;F.b.s.prototype.neg=F.b.s.prototype.K;F.b.s.prototype.scale=F.b.s.prototype.u;F.b.s.prototype.clone=F.b.s.prototype.f;F.b.Polar3=F.b.v;F.b.v.prototype.toVector3=F.b.v.prototype.f;F.b.v.prototype.clone=F.b.v.prototype.u;F.b.Matrix3=F.b.j;
F.b.j.prototype.apply=F.b.j.prototype.apply;F.b.j.prototype.mult=F.b.j.prototype.M;F.b.j.r_x=F.b.j.f;F.b.j.r_y=F.b.j.B;F.b.j.r_y=F.b.j.B;
